!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.vote=t(require("react")):e.vote=t(e.React)}(window,(function(e){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=18)}([function(t,n){t.exports=e},function(e,t,n){e.exports=n(11)()},function(e,t,n){var o=n(3),r=n(5);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var c=(e=e||{}).random||(e.rng||o)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,t)for(var a=0;a<16;++a)t[i+a]=c[a];return t||r(c)}},function(e,t,n){(function(t){var n,o=t.crypto||t.msCrypto;if(o&&o.getRandomValues){var r=new Uint8Array(16);n=function(){return o.getRandomValues(r),r}}if(!n){var i=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}e.exports=n}).call(this,n(4))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){for(var n=[],o=0;o<256;++o)n[o]=(o+256).toString(16).substr(1);e.exports=function(e,t){var o=t||0,r=n;return r[e[o++]]+r[e[o++]]+r[e[o++]]+r[e[o++]]+"-"+r[e[o++]]+r[e[o++]]+"-"+r[e[o++]]+r[e[o++]]+"-"+r[e[o++]]+r[e[o++]]+"-"+r[e[o++]]+r[e[o++]]+r[e[o++]]+r[e[o++]]+r[e[o++]]+r[e[o++]]}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var o=n(12),r=n(13),i=n(14);e.exports=function(){function e(e,t,n,o,c,a){a!==i&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";function o(e){return function(){return e}}var r=function(){};r.thatReturns=o,r.thatReturnsFalse=o(!1),r.thatReturnsTrue=o(!0),r.thatReturnsNull=o(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";e.exports=function(e,t,n,o,r,i,c,a){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,o,r,i,c,a],l=0;(s=new Error(t.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return St}));var o={};n.r(o),n.d(o,"isLoginActive",(function(){return Ue})),n.d(o,"startLogin",(function(){return He})),n.d(o,"continueLogin",(function(){return qe})),n.d(o,"getSelf",(function(){return Ge})),n.d(o,"getList",(function(){return Je})),n.d(o,"createItem",(function(){return We})),n.d(o,"vote",(function(){return Ye})),n.d(o,"configItem",(function(){return Xe}));var r={};n.r(r),n.d(r,"isLoginActive",(function(){return it})),n.d(r,"startLogin",(function(){return ct})),n.d(r,"continueLogin",(function(){return at})),n.d(r,"getSelf",(function(){return st})),n.d(r,"getList",(function(){return ut})),n.d(r,"createItem",(function(){return lt})),n.d(r,"vote",(function(){return ft})),n.d(r,"configItem",(function(){return pt}));var i=n(0),c=n.n(i),a=n(2),s=n.n(a),u="URLSearchParams"in self,l="Symbol"in self&&"iterator"in Symbol,f="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),p="FormData"in self,h="ArrayBuffer"in self;if(h)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=ArrayBuffer.isView||function(e){return e&&d.indexOf(Object.prototype.toString.call(e))>-1};function y(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function b(e){return"string"!=typeof e&&(e=String(e)),e}function v(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return l&&(t[Symbol.iterator]=function(){return t}),t}function g(e){this.map={},e instanceof g?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function _(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function w(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function O(e){var t=new FileReader,n=w(t);return t.readAsArrayBuffer(e),n}function E(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function S(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:f&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:p&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:u&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():h&&f&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=E(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):h&&(ArrayBuffer.prototype.isPrototypeOf(e)||m(e))?this._bodyArrayBuffer=E(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f&&(this.blob=function(){var e=_(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?_(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(O)}),this.text=function(){var e,t,n,o=_(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=w(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},p&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}g.prototype.append=function(e,t){e=y(e),t=b(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},g.prototype.delete=function(e){delete this.map[y(e)]},g.prototype.get=function(e){return e=y(e),this.has(e)?this.map[e]:null},g.prototype.has=function(e){return this.map.hasOwnProperty(y(e))},g.prototype.set=function(e,t){this.map[y(e)]=b(t)},g.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},g.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),v(e)},g.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),v(e)},g.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),v(e)},l&&(g.prototype[Symbol.iterator]=g.prototype.entries);var j=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function P(e,t){var n,o,r=(t=t||{}).body;if(e instanceof P){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new g(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new g(t.headers)),this.method=(n=t.method||this.method||"GET",o=n.toUpperCase(),j.indexOf(o)>-1?o:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function x(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),o=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(r))}})),t}function C(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new g(t.headers),this.url=t.url||"",this._initBody(e)}P.prototype.clone=function(){return new P(this,{body:this._bodyInit})},S.call(P.prototype),S.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},C.error=function(){var e=new C(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];C.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new C(null,{status:t,headers:{location:e}})};var T=self.DOMException;try{new T}catch(e){(T=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),T.prototype.constructor=T}function N(e,t){return new Promise((function(n,o){var r=new P(e,t);if(r.signal&&r.signal.aborted)return o(new T("Aborted","AbortError"));var i=new XMLHttpRequest;function c(){i.abort()}i.onload=function(){var e,t,o={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",t=new g,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),o=n.shift().trim();if(o){var r=n.join(":").trim();t.append(o,r)}})),t)};o.url="responseURL"in i?i.responseURL:o.headers.get("X-Request-URL");var r="response"in i?i.response:i.responseText;n(new C(r,o))},i.onerror=function(){o(new TypeError("Network request failed"))},i.ontimeout=function(){o(new TypeError("Network request failed"))},i.onabort=function(){o(new T("Aborted","AbortError"))},i.open(r.method,r.url,!0),"include"===r.credentials?i.withCredentials=!0:"omit"===r.credentials&&(i.withCredentials=!1),"responseType"in i&&f&&(i.responseType="blob"),r.headers.forEach((function(e,t){i.setRequestHeader(t,e)})),r.signal&&(r.signal.addEventListener("abort",c),i.onreadystatechange=function(){4===i.readyState&&r.signal.removeEventListener("abort",c)}),i.send(void 0===r._bodyInit?null:r._bodyInit)}))}N.polyfill=!0,self.fetch||(self.fetch=N,self.Headers=g,self.Request=P,self.Response=C);n(6);function R(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var A={small:10,large:16,huge:19},I=function(e){var t=e.type,n=e.size,o=void 0===n?"small":n;R(e,["type","size"]);return(c.a.createElement("svg",{className:"currency-icon",width:A[o],height:A[o],viewBox:"0 0 78 78"},c.a.createElement("g",{className:"".concat("currency-icon","--").concat(t)},c.a.createElement("polygon",{points:"5 19.6258065 38.4980127 0 73 19.6258065 73 57.3677419 38.5 78 5 57.3677419"}))))},D=(n(7),function(e){return"normal"===e.type?c.a.createElement("section",{className:"influence"},c.a.createElement("h2",{className:"".concat("influence","__header")},"Influence  ",c.a.createElement(I,{size:"huge",type:"influence"})),c.a.createElement("p",{className:"".concat("influence","__description")},c.a.createElement("em",null,"Influence")," is a unit of measure based on time you have been a member on GitHub. However, from 2017 on you will receive one influence per day.")):c.a.createElement("section",{className:"influence"},c.a.createElement("h2",{className:"".concat("influence","__header")},"Golden Influence  ",c.a.createElement(I,{size:"huge",type:"goldenInfluence"})),c.a.createElement("p",{className:"".concat("influence","__description")},c.a.createElement("em",null,"Golden Influence")," is equal to 100 ",c.a.createElement("i",null,"normal influence"),". Golden Influence is obtained by being a backer or sponsor on our ",c.a.createElement("a",{href:"https://opencollective.com/webpack"},"Open Collective page"),"."))});n(8);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?V(e):t}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(a,e);var t,n,o,r,i=(t=a,function(){var e,n=U(t);if(z()){var o=U(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return B(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._handleAllClicks=t._handleAllClicks.bind(V(t)),t.state={open:!1},t}return n=a,(o=[{key:"render",value:function(){var e=this,t=this.props,n=t.className,o=void 0===n?"":n,r=t.options,i=t.onChange,a=this.props,s=a.width,u=void 0===s?150:s,l=a.tipOffset,f=void 0===l?6:l;return c.a.createElement("span",{ref:function(t){return e._container=t},className:"".concat("dropdown"," ").concat(o)},c.a.createElement("span",{className:"".concat("dropdown","__trigger"),onClick:this._toggle.bind(this)},this.props.children),this.state.open?c.a.createElement("div",{className:"".concat("dropdown","__menu"),style:{width:u}},r.map((function(e){return c.a.createElement("button",{key:e.label,className:"".concat("dropdown","__option"),onClick:e.onClick||i.bind(null,e)},e.label)})),c.a.createElement("figure",{className:"".concat("dropdown","__tip"),style:{right:f}})):null)}},{key:"componentDidMount",value:function(){document&&document.addEventListener("click",this._handleAllClicks)}},{key:"componentWillUnmount",value:function(){document&&document.removeEventListener("click",this._handleAllClicks)}},{key:"_toggle",value:function(){this.setState({open:!this.state.open})}},{key:"_handleAllClicks",value:function(e){this._container.contains(e.target)||this.setState({open:!1})}}])&&L(n.prototype,o),r&&L(n,r),a}(c.a.Component);n(9);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function X(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(a,e);var t,n,o,r,i=(t=a,function(){var e,n=$(t);if(X()){var o=$(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return Y(this,e)});function a(){return G(this,a),i.apply(this,arguments)}return n=a,(o=[{key:"render",value:function(){var e=this.props,t=e.userData,n=e.possibleVotes,o=void 0===n?[]:n,r=e.loading,i=(t||{}).currencies,a=void 0===i?[]:i;return(c.a.createElement("div",{className:"account"},!t&&r?c.a.createElement("span",null,"Loading user info..."):t?c.a.createElement("div",{className:"".concat("account","__inner")},c.a.createElement("div",{className:"".concat("account","__info")},c.a.createElement("div",{className:"".concat("account","__title")},t.name,c.a.createElement("span",{className:"".concat("account","__separator")},"//"),t.login),c.a.createElement("div",{className:"".concat("account","__currencies")},o.map((function(e){return a.find((function(t){return t.name===e.currency}))})).map((function(e){var t=e.name,n=e.displayName,o=e.remaining,r=e.used,i=e.value;return(c.a.createElement("span",{key:t,className:"".concat("account","__currency"),title:"You used ".concat(r," of a total of ").concat(i," ").concat(n,".")},o,c.a.createElement(I,{type:t})))})))),c.a.createElement(H,{width:100,tipOffset:12,options:[{label:"Refresh",onClick:this.props.refresh},{label:"Logout",onClick:this._logout.bind(this)}]},c.a.createElement("img",{className:"".concat("account","__avatar"),alt:t.login,src:t.avatar}))):c.a.createElement("button",{className:"".concat("account","__login"),onClick:this._login.bind(this)},"Login with GitHub ",c.a.createElement("svg",{width:"20px",height:"20px",viewBox:"0 0 438.549 438.549"},c.a.createElement("path",{d:"M409.132,114.573c-19.608-33.596-46.205-60.194-79.798-79.8C295.736,15.166,259.057,5.365,219.271,5.365   c-39.781,0-76.472,9.804-110.063,29.408c-33.596,19.605-60.192,46.204-79.8,79.8C9.803,148.168,0,184.854,0,224.63   c0,47.78,13.94,90.745,41.827,128.906c27.884,38.164,63.906,64.572,108.063,79.227c5.14,0.954,8.945,0.283,11.419-1.996   c2.475-2.282,3.711-5.14,3.711-8.562c0-0.571-0.049-5.708-0.144-15.417c-0.098-9.709-0.144-18.179-0.144-25.406l-6.567,1.136   c-4.187,0.767-9.469,1.092-15.846,1c-6.374-0.089-12.991-0.757-19.842-1.999c-6.854-1.231-13.229-4.086-19.13-8.559   c-5.898-4.473-10.085-10.328-12.56-17.556l-2.855-6.57c-1.903-4.374-4.899-9.233-8.992-14.559   c-4.093-5.331-8.232-8.945-12.419-10.848l-1.999-1.431c-1.332-0.951-2.568-2.098-3.711-3.429c-1.142-1.331-1.997-2.663-2.568-3.997   c-0.572-1.335-0.098-2.43,1.427-3.289c1.525-0.859,4.281-1.276,8.28-1.276l5.708,0.853c3.807,0.763,8.516,3.042,14.133,6.851   c5.614,3.806,10.229,8.754,13.846,14.842c4.38,7.806,9.657,13.754,15.846,17.847c6.184,4.093,12.419,6.136,18.699,6.136   c6.28,0,11.704-0.476,16.274-1.423c4.565-0.952,8.848-2.383,12.847-4.285c1.713-12.758,6.377-22.559,13.988-29.41   c-10.848-1.14-20.601-2.857-29.264-5.14c-8.658-2.286-17.605-5.996-26.835-11.14c-9.235-5.137-16.896-11.516-22.985-19.126   c-6.09-7.614-11.088-17.61-14.987-29.979c-3.901-12.374-5.852-26.648-5.852-42.826c0-23.035,7.52-42.637,22.557-58.817   c-7.044-17.318-6.379-36.732,1.997-58.24c5.52-1.715,13.706-0.428,24.554,3.853c10.85,4.283,18.794,7.952,23.84,10.994   c5.046,3.041,9.089,5.618,12.135,7.708c17.705-4.947,35.976-7.421,54.818-7.421s37.117,2.474,54.823,7.421l10.849-6.849   c7.419-4.57,16.18-8.758,26.262-12.565c10.088-3.805,17.802-4.853,23.134-3.138c8.562,21.509,9.325,40.922,2.279,58.24   c15.036,16.18,22.559,35.787,22.559,58.817c0,16.178-1.958,30.497-5.853,42.966c-3.9,12.471-8.941,22.457-15.125,29.979   c-6.191,7.521-13.901,13.85-23.131,18.986c-9.232,5.14-18.182,8.85-26.84,11.136c-8.662,2.286-18.415,4.004-29.263,5.146   c9.894,8.562,14.842,22.077,14.842,40.539v60.237c0,3.422,1.19,6.279,3.572,8.562c2.379,2.279,6.136,2.95,11.276,1.995   c44.163-14.653,80.185-41.062,108.068-79.226c27.88-38.161,41.825-81.126,41.825-128.906   C438.536,184.851,428.728,148.168,409.132,114.573z",fill:"#FFFFFF"})))))}},{key:"_login",value:function(){var e=window.location,t=(void 0===e?{}:e).href,n=void 0===t?"":t;this.props.startLogin(n)}},{key:"_logout",value:function(){delete window.localStorage.voteAppToken,window.location.reload()}}])&&J(n.prototype,o),r&&J(n,r),a}(c.a.Component);n(10);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(a,e);var t,n,o,r,i=(t=a,function(){var e,n=re(t);if(oe()){var o=re(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return ne(this,e)});function a(){return Z(this,a),i.apply(this,arguments)}return n=a,(o=[{key:"render",value:function(){var e=this,t=this.props,n=t.className,o=void 0===n?"":n,r=t.currency,i=t.current,a=t.locked,s=t.user;return c.a.createElement("div",{className:"".concat("votes"," ").concat(o)},c.a.createElement("span",{className:"".concat("votes","__currency")},!a&&s.currency&&c.a.createElement("figure",{tabIndex:0,className:"".concat("votes","__up"),onClick:function(){return e._vote(1)},onMouseDown:function(){return e._startCounter(!0)},onMouseUp:function(){return e._stopCounter()},onMouseOut:function(){return e._stopCounter()},onTouchStart:function(){return e._startCounter(!0)},onTouchEnd:function(){return e._stopCounter()},onTouchCancel:function(){return e._stopCounter()}}),c.a.createElement(I,{size:"large",type:r.currency}),!a&&s.currency&&c.a.createElement("figure",{tabIndex:0,className:"".concat("votes","__down"),onClick:function(){return e._vote(-1)},onMouseDown:function(){return e._startCounter(!1)},onMouseUp:function(){return e._stopCounter()},onMouseOut:function(){return e._stopCounter()},onTouchStart:function(){return e._startCounter(!1)},onTouchEnd:function(){return e._stopCounter()},onTouchCancel:function(){return e._stopCounter()}})),c.a.createElement("span",{className:"".concat("votes","__score")},i.votes,c.a.createElement("span",{className:"".concat("votes","__multiplier")},"x ",r.score)))}},{key:"_vote",value:function(e){var t=this.props.user.votes.votes,n=this._maximum-t;this.props.onVote(Math.min(n,Math.max(e,-t)))}},{key:"_startCounter",value:function(e){var t=this,n=0,o=0;this._interval&&clearInterval(this._interval),this._interval=setInterval((function(){n<=5?(n++,o=1):n<=10?(n+=2,o=2):n<=40?(n+=5,o=5):n<=70?(n+=10,o=10):(n+=15,o=15),e||(o*=-1),t._vote(o)}),200)}},{key:"_stopCounter",value:function(){this._interval&&clearInterval(this._interval)}},{key:"_maximum",get:function(){var e=this.props,t=e.user,n=e.currency.maximum,o=void 0===n?1e3:n;return t.currency&&t.currency.remaining+t.votes.votes<o?t.currency.remaining+t.votes.votes:o}}])&&ee(n.prototype,o),r&&ee(n,r),a}(c.a.Component),ce=n(1),ae=n.n(ce);function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var ue="undefined"!=typeof window&&"undefined"!=typeof document,le=!!ue&&!!document.documentElement.currentStyle,fe=ue&&document.createElement("textarea"),pe={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},he=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","tab-size","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],de={};function me(e,t,n,o,r){void 0===n&&(n=!1),void 0===o&&(o=null),void 0===r&&(r=null),null===fe.parentNode&&document.body.appendChild(fe);var i=function(e,t,n){void 0===n&&(n=!1);if(n&&de[t])return de[t];var o=window.getComputedStyle(e);if(null===o)return null;var r=he.reduce((function(e,t){return e[t]=o.getPropertyValue(t),e}),{}),i=r["box-sizing"];le&&"border-box"===i&&(r.width=parseFloat(r.width)+parseFloat(o["border-right-width"])+parseFloat(o["border-left-width"])+parseFloat(o["padding-right"])+parseFloat(o["padding-left"])+"px");var c=parseFloat(r["padding-bottom"])+parseFloat(r["padding-top"]),a=parseFloat(r["border-bottom-width"])+parseFloat(r["border-top-width"]),s={sizingStyle:r,paddingSize:c,borderSize:a,boxSizing:i};n&&(de[t]=s);return s}(e,t,n);if(null===i)return null;var c=i.paddingSize,a=i.borderSize,s=i.boxSizing,u=i.sizingStyle;Object.keys(u).forEach((function(e){fe.style[e]=u[e]})),Object.keys(pe).forEach((function(e){fe.style.setProperty(e,pe[e],"important")})),fe.value=e.value||e.placeholder||"x";var l=-1/0,f=1/0,p=fe.scrollHeight;"border-box"===s?p+=a:"content-box"===s&&(p-=c),fe.value="x";var h=fe.scrollHeight-c;return null===o&&null===r||(null!==o&&(l=h*o,"border-box"===s&&(l=l+c+a),p=Math.max(l,p)),null!==r&&(f=h*r,"border-box"===s&&(f=f+c+a),p=Math.min(f,p))),{height:p,minHeight:l,maxHeight:f,rowCount:Math.floor(p/h)}}var ye,be=(void 0===ye&&(ye=0),function(){return++ye}),ve=function(){},ge=ue&&window.requestAnimationFrame?[window.requestAnimationFrame,window.cancelAnimationFrame]:[setTimeout,clearTimeout],_e=ge[0],we=ge[1],Oe=function(e){var t,n;function o(t){var n;return(n=e.call(this,t)||this)._resizeLock=!1,n._onRootDOMNode=function(e){n._rootDOMNode=e,n.props.inputRef&&n.props.inputRef(e)},n._onChange=function(e){n._controlled||n._resizeComponent(),n.props.onChange(e)},n._resizeComponent=function(e){if(void 0===e&&(e=ve),void 0!==n._rootDOMNode){var t=me(n._rootDOMNode,n._uid,n.props.useCacheForDOMMeasurements,n.props.minRows,n.props.maxRows);if(null!==t){var o=t.height,r=t.minHeight,i=t.maxHeight,c=t.rowCount;n.rowCount=c,n.state.height===o&&n.state.minHeight===r&&n.state.maxHeight===i?e():n.setState({height:o,minHeight:r,maxHeight:i},e)}else e()}else e()},n.state={height:t.style&&t.style.height||0,minHeight:-1/0,maxHeight:1/0},n._uid=be(),n._controlled="string"==typeof t.value,n}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=o.prototype;return r.render=function(){var e=this.props,t=(e.minRows,e.maxRows,e.onHeightChange,e.useCacheForDOMMeasurements,e.inputRef,function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)n=c[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["minRows","maxRows","onHeightChange","useCacheForDOMMeasurements","inputRef"]));return t.style=se({},t.style,{height:this.state.height}),Math.max(t.style.maxHeight||1/0,this.state.maxHeight)<this.state.height&&(t.style.overflow="hidden"),c.a.createElement("textarea",se({},t,{onChange:this._onChange,ref:this._onRootDOMNode}))},r.componentDidMount=function(){var e=this;this._resizeComponent(),this._resizeListener=function(){e._resizeLock||(e._resizeLock=!0,e._resizeComponent((function(){return e._resizeLock=!1})))},window.addEventListener("resize",this._resizeListener)},r.componentWillReceiveProps=function(){var e=this;this._clearNextFrame(),this._onNextFrameActionId=_e((function(){return e._resizeComponent()}))},r.componentDidUpdate=function(e,t){this.state.height!==t.height&&this.props.onHeightChange(this.state.height,this)},r.componentWillUnmount=function(){this._clearNextFrame(),window.removeEventListener("resize",this._resizeListener),function(e){delete de[e]}(this._uid)},r._clearNextFrame=function(){we(this._onNextFrameActionId)},o}(c.a.Component);Oe.propTypes={value:ae.a.string,onChange:ae.a.func,onHeightChange:ae.a.func,useCacheForDOMMeasurements:ae.a.bool,minRows:ae.a.number,maxRows:ae.a.number,inputRef:ae.a.func},Oe.defaultProps={onChange:ve,onHeightChange:ve,useCacheForDOMMeasurements:!1};var Ee=Oe;n(15);function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e,t){return!t||"object"!==Se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ke(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(a,e);var t,n,o,r,i=(t=a,function(){var e,n=Te(t);if(ke()){var o=Te(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return Ce(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={editing:e.editing||!1,title:e.topic.title,description:e.topic.description},t}return n=a,(o=[{key:"render",value:function(){var e=this,t=this.props,n=t.className,o=void 0===n?"":n,r=t.user,i=t.admin,a=t.topic,s=t.votes,u=(t.token,this.state),l=u.editing,f=u.title,p=u.description;return c.a.createElement("div",{className:"".concat("topic"," ").concat(o)},c.a.createElement("section",{className:"".concat("topic","__content")},c.a.createElement("div",{className:"".concat("topic","__title")},l?c.a.createElement("input",{type:"text",value:f,onChange:this._changeTitle.bind(this)}):f,i?c.a.createElement(H,{className:"".concat("topic","__settings"),width:125,tipOffset:2,onChange:this._changeSettings.bind(this),options:[{label:"".concat(a.locked?"Unlock":"Lock"," Topic"),locked:!a.locked},{label:"".concat(a.archived?"Revive":"Archive"," Topic"),archived:!a.archived},{label:"Edit Topic",onClick:this._edit.bind(this)}]},c.a.createElement("svg",{width:"15px",viewBox:"-99 88.8 55 55"},c.a.createElement("path",{d:"M-68.3,137H-52c1.1,0,2-0.9,2-2s-0.9-2-2-2h-16.3c-0.9-2.9-3.5-5-6.7-5c-3.2,0-5.8,2.1-6.7,5H-92c-1.1,0-2,0.9-2,2s0.9,2,2,2h10.3c0.9,2.9,3.5,5,6.7,5C-71.8,142-69.2,139.9-68.3,137L-68.3,137z M-53.3,118h1.3c1.1,0,2-0.9,2-2s-0.9-2-2-2h-1.3c-0.9-2.9-3.5-5-6.7-5c-3.2,0-5.8,2.1-6.7,5H-92c-1.1,0-2,0.9-2,2s0.9,2,2,2h25.3c0.9,2.9,3.5,5,6.7,5C-56.8,123-54.2,120.9-53.3,118z M-77.3,99H-52c1.1,0,2-0.9,2-2s-0.9-2-2-2h-25.3c-0.9-2.9-3.5-5-6.7-5c-3.2,0-5.8,2.1-6.7,5H-92c-1.1,0-2,0.9-2,2s0.9,2,2,2h1.3c0.9,2.9,3.5,5,6.7,5C-80.8,104-78.2,101.9-77.3,99L-77.3,99z"}))):null),c.a.createElement("div",{className:"".concat("topic","__inner")},c.a.createElement("div",{className:"".concat("topic","__description")},l?c.a.createElement(Ee,{value:p,onChange:this._changeDescription.bind(this)}):p),l?c.a.createElement("button",{className:"".concat("topic","__save"),onClick:this._saveChanges.bind(this)},"Done Editing"):null,c.a.createElement("div",{className:"".concat("topic","__sponsors")},c.a.createElement("h4",{className:"".concat("topic","__subtitle")},"Sponsors"),c.a.createElement("div",{className:"".concat("topic","__people")},"Coming soon...")))),c.a.createElement("section",{className:"".concat("topic","__vote")},c.a.createElement("div",{className:"".concat("topic","__title ").concat("topic","__title--vote")},a.locked?"Voting is not allowed":"Place your vote"),c.a.createElement("div",{className:"".concat("topic","__inner")},s.map((function(t,n){return c.a.createElement(ie,{key:t.name,className:"".concat("topic","__field"),currency:t,current:a.votes.find((function(e){return e.name===t.name})),locked:a.locked,user:{votes:a.userVotes&&a.userVotes.find((function(e){return e.name===t.name})),currency:r&&r.currencies.find((function(e){return e.name===t.currency}))},onVote:e._vote.bind(e,t)})})),c.a.createElement("div",{className:"".concat("topic","__total")},a.score))))}},{key:"_vote",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=this.props.topic;this.props.onVote(n.id,e.name,t,e.currency,e.score)}},{key:"_edit",value:function(e){this.setState({editing:!0})}},{key:"_changeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"_changeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"_changeSettings",value:function(e){e.label;var t=je(e,["label"]),n=this.props.topic;this.props.onChangeSettings(n.id,t)}},{key:"_saveChanges",value:function(e){var t=this,n=this.props.topic,o=this.state,r=o.title,i=o.description;this.props.onChangeSettings(n.id,{title:r,description:i}).then((function(e){e&&t.setState({editing:!1})}))}}])&&Pe(n.prototype,o),r&&Pe(n,r),a}(c.a.Component);n(16);function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ie(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Le(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(a,e);var t,n,o,r,i=(t=a,function(){var e,n=Me(t);if(Le()){var o=Me(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return Fe(this,e)});function a(){return Ae(this,a),i.apply(this,arguments)}return n=a,(o=[{key:"render",value:function(){return c.a.createElement(Ne,{className:"create-topic",editing:!0,votes:[],topic:{title:"New Topic",description:"...",score:0},onChangeSettings:this._create.bind(this)})}},{key:"_create",value:function(e,t){var n=t.title,o=t.description;return n.length&&o.length?this.props.onCreate(this.props.id,n,o):alert("Please enter a valid title and description."),Promise.resolve(!1)}}])&&Ie(n.prototype,o),r&&Ie(n,r),a}(c.a.Component),Ve="https://oswils44oj.execute-api.us-east-1.amazonaws.com/production/";function ze(e){if(!e)throw new Error("No result received");if(e.errorMessage)throw new Error(e.errorMessage);return e}function Ue(){return/^\?code=([^&]*)&state=([^&]*)/.test(window.location.search)}function He(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=""+Math.random();return e.includes("webpack.js.org")?(window.localStorage.githubState=t,window.location="https://github.com/login/oauth/authorize?client_id=4d355e2799cb8926c665&scope=user:email&state="+t+"&allow_signup=false&redirect_uri="+encodeURIComponent(e)):alert("You can't login with GitHub OAuth on localhost. Please pass the `development` prop to the `Wrapper` in order to use `api.dev`."),Promise.resolve()}function qe(){var e,t,n=/^\?code=([^&]*)&state=([^&]*)/.exec(window.location.search);return n?(e=n[1],t=n[2],t!==window.localStorage.githubState?Promise.reject(new Error("Request state doesn't match (Login was triggered by 3rd party)")):(delete window.localStorage.githubState,fetch(Ve+"/login",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({code:e,state:t})}).then((function(e){return e.json()})).then(ze).then((function(e){if(!e.token)throw new Error("No token received from API");return e.token})))).then((function(e){return setTimeout((function(){var e=window.location.href;window.location=e.substr(0,e.length-window.location.search.length)}),100),e})):Promise.resolve()}function Ge(e){return fetch("".concat(Ve,"/self?token=").concat(e),{mode:"cors"}).then((function(e){return e.json()})).then(ze)}function Je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"todo";return fetch("".concat(Ve,"/list/").concat(t)+(e?"?token=".concat(e):""),{mode:"cors"}).then((function(e){return e.json()})).then(ze)}function We(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"todo",n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return fetch("".concat(Ve,"/list/").concat(t,"?token=").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:n,description:o})}).then((function(e){return e.json()})).then(ze)}function Ye(e,t,n,o){return fetch("".concat(Ve,"/vote/").concat(t,"/").concat(n,"?token=").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({count:o})}).then((function(e){return e.json()})).then(ze).then((function(e){return!0}))}function Xe(e,t,n){return fetch("".concat(Ve,"/config/").concat(t,"?token=").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config:n})}).then((function(e){return e.json()})).then(ze).then((function(e){return!0}))}function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){Qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ze={influence:100,goldenInfluence:100},et=1e3,tt=300,nt={todo:{possibleVotes:[{name:"influence",currency:"influence",score:1,color:"blue"},{name:"golden",currency:"goldenInfluence",score:100,color:"#bfa203"}],items:[{id:"1234",list:"todo",title:"Some Feature",description:"Mauris et sem a risus pharetra suscipit. Fusce gravida purus non nisi pulvinar, non lobortis tortor vehicula. Mauris at dui a ex vestibulum condimentum id sit amet nisl. Nam finibus ornare laoreet. Duis ultrices sollicitudin quam eu vulputate. Sed ac ante odio. Mauris fermentum vel tortor sit amet iaculis.",influence:15},{id:"2345",list:"todo",title:"Review Stuff",description:"Cras libero libero, elementum eu laoreet nec, convallis sit amet sem. Donec ut diam dignissim, hendrerit ante id, congue felis. In hac habitasse platea dictumst. Donec sit amet tellus et neque auctor consequat. Cras porta finibus turpis, id auctor lectus.",golden:20},{id:"3456",list:"todo",title:"Another Feature",description:"Curabitur pharetra facilisis mauris. Integer interdum venenatis metus quis dictum. Cras aliquet erat ut risus vestibulum, sed tincidunt enim maximus. Cras tincidunt vulputate ante vitae tincidunt. Cras quis erat eu augue aliquam pretium nec sit amet magna. Etiam nisi nunc, blandit vel hendrerit et, suscipit finibus nunc.",golden:20}]}},ot={1234:nt.todo.items[0],2345:nt.todo.items[1],3456:nt.todo.items[2]};function rt(e){return new Promise((function(t){setTimeout(t,e)}))}function it(){return/^\?login=/.test(window.location.search)}function ct(e){return window.location.search="?login="+encodeURIComponent(e),Promise.resolve()}function at(){return/^\?login=/.test(window.location.search)?rt(2e3).then((function(){return setTimeout((function(){return window.location=decodeURIComponent(window.location.search.substr(7),100)})),"developer"})):Promise.resolve()}function st(e){return"developer"!==e?Promise.reject(new Error("Not logged in as developer")):rt(500).then((function(){return{login:"dev",name:"Developer",avatar:"https://github.com/webpack.png",currencies:[{name:"influence",displayName:"Influence",description:"Some **description**",value:et,used:Ze.influence,remaining:et-Ze.influence},{name:"goldenInfluence",displayName:"Golden Influence",description:"Some **description**",value:tt,used:Ze.goldenInfluence,remaining:tt-Ze.goldenInfluence}]}}))}function ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"todo",n="developer"===e,o=nt[t];return rt(500).then((function(){return{name:t,displayName:"Development Mode: "+t,description:"These items are simply for testing functionality...",lockable:!0,deletable:!0,archivable:!0,isAdmin:!0,possibleVotes:o.possibleVotes,items:nt[t].items.map((function(e){var t=o.possibleVotes.map((function(t){return{name:t.name,votes:(e[t.name]||0)+Math.floor(100*Math.random())}})),r=o.possibleVotes.map((function(e,n){return e.score*t[n].votes})).reduce((function(e,t){return e+t}),0);return{id:e.id,list:e.list,title:e.title,locked:e.locked||!1,archived:e.archived||!1,description:e.description,votes:t,userVotes:n?o.possibleVotes.map((function(t){return{name:t.name,votes:e[t.name]||0}})):void 0,score:r}})).sort((function(e,t){return t.score-e.score}))}}))}function lt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"todo",n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if("developer"!==e)return Promise.reject(new Error("Not logged in as developer"));var r={id:Math.random()+"",list:t,title:n,description:o};return ot[r.id]=r,nt[t].items.push(r),rt(500).then((function(){return Ke({},r,{score:0,votes:nt[t].possibleVotes.map((function(e){return{name:e.name,votes:0}})),userVotes:nt[t].possibleVotes.map((function(e){return{name:e.name,votes:0}}))})}))}function ft(e,t,n,o){if("developer"!==e)return Promise.reject(new Error("Not logged in as developer"));var r=ot[t].list,i=nt[r].possibleVotes.filter((function(e){return e.name===n}))[0];return i.currency&&(Ze[i.currency]+=o),ot[t][n]=(ot[t][n]||0)+o,rt(500).then((function(){return!0}))}function pt(e,t,n){var o=ot[t];return"developer"!==e?Promise.reject(new Error("Not logged in as developer")):(Object.assign(o,n),rt(500).then((function(){return!0})))}n(17);function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yt(e){return function(e){if(Array.isArray(e))return bt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return bt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _t(e,t){return(_t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wt(e,t){return!t||"object"!==vt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ot(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var St=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_t(e,t)}(l,e);var t,n,i,a,u=(t=l,function(){var e,n=Et(t);if(Ot()){var o=Et(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return wt(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=u.call(this,e))._api=e.development?r:o,t._supportedBrowser="object"===("undefined"==typeof localStorage?"undefined":vt(localStorage)),t.state={list:"todo",selfInfo:void 0,listInfo:void 0,isFetchingSelf:!1,isFetchingList:!1,isLoginActive:!1,isVoting:0,newTopics:[]},t}return n=l,(i=[{key:"render",value:function(){var e=this,t=this.state,n=t.isVoting,o=t.isFetchingList,r=t.isFetchingSelf,i=t.isLoginActive,a=this.state,s=a.selfInfo,u=a.listInfo,l=(a.editItem,a.editItemTitle,a.editItemDescription,u&&u.possibleVotes.map((function(){return 0})));return this._supportedBrowser?i?c.a.createElement("div",null,"Logging in..."):(u&&u.items.forEach((function(e){e.userVotes&&l.forEach((function(t,n){var o=e.userVotes[n].votes;o>t&&(l[n]=o)}))})),c.a.createElement("div",{className:"wrapper"},c.a.createElement("div",{className:"".concat("wrapper","__top")},c.a.createElement("h1",{className:"".concat("wrapper","__title")},"Vote and Prioritize"),c.a.createElement(K,{loading:o||r||n,userData:s,possibleVotes:u&&u.possibleVotes,refresh:this._refresh.bind(this),startLogin:this._api.startLogin})),c.a.createElement("p",{className:"".concat("wrapper","__description")},"This mini-application allows you to browse and vote on new features for webpack. Log in with your GitHub credentials and you will notice that you have a certain amount of points/influence that can be used to vote for or against any of the features listed below. The following two sections describe the different types of influence and how they can be attained."),c.a.createElement("div",{className:"".concat("wrapper","__influences")},c.a.createElement(D,{className:"".concat("wrapper","__influence-section"),type:"normal"}),c.a.createElement(D,{className:"".concat("wrapper","__influence-section"),type:"golden"})),u&&c.a.createElement("ul",{className:"".concat("wrapper","__topics")},u.items.map((function(t){return c.a.createElement("li",{key:t.id},c.a.createElement(Ne,{user:s,admin:u.isAdmin,topic:t,votes:u.possibleVotes,onVote:e._vote.bind(e),onChangeSettings:e._changeTopicSettings.bind(e)}))}))),u&&u.isAdmin?c.a.createElement("div",{className:"".concat("wrapper","__new")},this.state.newTopics.map((function(t){return c.a.createElement(Be,{key:t,id:t,onCreate:e._createTopic.bind(e)})})),c.a.createElement("a",{className:"".concat("wrapper","__add"),onClick:this._addTopic.bind(this)},"Add a new topic...")):null)):c.a.createElement("div",null,"Your browser is not supported.")}},{key:"componentDidMount",value:function(){var e=this.state,t=e.selfInfo,n=e.listInfo;this._supportedBrowser&&(this._api.isLoginActive()?(this.setState({isLoginActive:!0}),this._api.continueLogin().then((function(e){window.localStorage.voteAppToken=e}))):(t||this._updateUser(),n||this._updateList()))}},{key:"_updateUser",value:function(){var e=this,t=localStorage.voteAppToken;t&&(this.setState({isFetchingSelf:!0}),this._api.getSelf(t).then((function(t){e.setState({selfInfo:t})})).catch((function(t){console.error("Failed to fetch user information: ",t),e.setState({selfInfo:null})})).then((function(){e.setState({isFetchingSelf:!1})})))}},{key:"_updateList",value:function(){var e=this,t=this.state.list,n=localStorage.voteAppToken;this.setState({isFetchingList:!0}),this._api.getList(n,t).then((function(t){e.setState({listInfo:t})})).catch((function(t){console.error("Failed to fetch topic list: ",t),e.setState({listInfo:null})})).then((function(){e.setState({isFetchingList:!1})}))}},{key:"_addTopic",value:function(){this.setState({newTopics:[].concat(yt(this.state.newTopics),[s()()])})}},{key:"_createTopic",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=this.state,i=r.list,c=r.listInfo,a=localStorage,s=a.voteAppToken;return this._api.createItem(s,i,n,o).then((function(n){return t.setState({newTopics:t.state.newTopics.filter((function(t){return t!==e})),listInfo:c&&dt({},c,{items:[].concat(yt(c.items),[n])})}),!0}))}},{key:"_changeTopicSettings",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=localStorage,r=o.voteAppToken;return this._api.configItem(r,e,n).then((function(){return t._updateList()})).then((function(){return!0}))}},{key:"_refresh",value:function(){this._updateUser(),this._updateList()}},{key:"_vote",value:function(e,t,n,o,r){var i=this,c=localStorage.voteAppToken;n&&(this._localVote(e,t,n,o,r),this._api.vote(c,e,t,n).catch((function(c){console.error(c),i._localVote(e,t,-n,o,r)})).then((function(){i.setState({isVoting:i.state.isVoting-1})})))}},{key:"_localVote",value:function(e,t,n,o,r){var i=this,c=this.state,a=c.listInfo,s=c.selfInfo;this.setState({isVoting:this.state.isVoting+1,listInfo:a&&dt({},a,{items:this._updateByProperty(a.items,"id",e,(function(e){return dt({},e,{votes:i._updateByProperty(e.votes,"name",t,(function(e){return dt({},e,{votes:e.votes+n})})),userVotes:i._updateByProperty(e.userVotes,"name",t,(function(e){return dt({},e,{votes:e.votes+n})})),score:e.score+r*n})}))}),selfInfo:s&&dt({},s,{currencies:this._updateByProperty(s.currencies,"name",o,(function(e){return dt({},e,{used:e.used+n,remaining:e.remaining-n})}))})})}},{key:"_updateByProperty",value:function(e,t,n,o){return e.map((function(e){return e[t]===n?o(e):e}))}}])&&gt(n.prototype,i),a&&gt(n,a),l}(c.a.Component)}])}));